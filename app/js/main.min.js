$(function() {

  // Подключение fullpage.js
  let fullPage = new fullpage('#fullpage', {
		// Настройки плагина
    licenseKey:"1FFDFC19-BDB4411F-916902A8-369CF227",
    menu: '#menu, #menu-min',
    anchors: ['firstPage', 'secondPage', 'thirdPage', 'fourPage'],
    verticalCentered: true,
    fadingEffect: true,
    afterResize: function(width, height){
      // Срабатывает после изменения размера окна
      var pluginContainer = this;
      if (height <= 768) {
        pluginContainer.verticalCentered = false;
      }
      else {
        pluginContainer.verticalCentered = true;
      }
      // if (window.innerWidth >= 768) {
      //   $('.works__list').slick('unslick');
      // }
    },
    afterRender: function(){
      // Срабатывает после загрузки DOM
      var pluginContainer = this;
      // console.log(pluginContainer);
      if (window.innerHeight <= 768) {
        pluginContainer.verticalCentered = false;
      }
      else {
        pluginContainer.verticalCentered = true;
      }
      if (window.innerWidth <= 767) {
        $('.works__list').slick({
          vertical: true,
          slidesToShow: 2,
          arrows: false
        });
      }
      $('.menu-burger').on('click', function() {
        $('.menu-burger').toggleClass('active');
        $('.menu__min').toggleClass('active');
      });

      $('.about__skills-title').on('click', function() {
        $('.about__skills').toggleClass('active');
      });

      // Аккордеон начало
      $('.services__item').on('click', function() {
        $('.services__item').removeClass('active');
        $(this  ).addClass('active');
      });
      // Аккордеон конец

      let portfolio1 = document.getElementById('about-portfolio');

      portfolio1.addEventListener('click', function() {
        fullPage.moveSectionDown();
      });

      let sidebarClose = document.querySelector('.sidebar-close');
      let sidebar = document.querySelector('.sidebar-contact');
      let sidebarMessages = document.querySelectorAll('.sidebar-message');

      sidebarClose.addEventListener('click', function() {
        sidebar.classList.remove('active');
      });
      for (let i = 0; i < sidebarMessages.length; i++) {
        sidebarMessages[i].addEventListener('click', function() {
          sidebar.classList.add('active');
        });
      }
    }
  });
  

});